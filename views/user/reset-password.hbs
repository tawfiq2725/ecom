<section class="reset-password-page account">
  <div class="container">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <div class="block text-center">
          <a class="logo" href="index.html">
            <img src="images/logo.png" alt="">
          </a>
          <h2 class="text-center">Reset Password</h2>
          {{#if error_msg}}
            <p class="text-danger">{{error_msg}}</p>
          {{/if}}
          {{#if success_msg}}
            <p class="text-success">{{success_msg}}</p>
          {{/if}}
          <form class="text-left clearfix" method="POST" action="/auth/reset">
            <div class="form-group">
              <input type="text" name="otp" class="form-control" placeholder="Enter OTP" required>
            </div>
            <!-- New Password Field with Toggle Icon -->
            <div class="form-group">
              <div class="input-container position-relative">
                <input type="password" name="password" class="form-control" placeholder="New password" id="password" required>
                <i class="fa fa-eye position-absolute" id="togglePassword" style="cursor: pointer; right: 10px; top: 50%; transform: translateY(-50%);"></i>
              </div>
              <small class="error-message text-danger"></small>
            </div>
            <!-- Confirm New Password Field with Toggle Icon -->
            <div class="form-group">
              <div class="input-container position-relative">
                <input type="password" name="password2" class="form-control" placeholder="Confirm new password" id="confirmPassword" required>
                <i class="fa fa-eye position-absolute" id="toggleConfirmPassword" style="cursor: pointer; right: 10px; top: 50%; transform: translateY(-50%);"></i>
              </div>
              <small class="error-message text-danger"></small>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-main text-center">Reset password</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Toggle password visibility
  document.getElementById('togglePassword').addEventListener('click', function() {
    var passwordInput = document.getElementById('password');
    var icon = this;
    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      icon.classList.remove('fa-eye');
      icon.classList.add('fa-eye-slash');
    } else {
      passwordInput.type = 'password';
      icon.classList.remove('fa-eye-slash');
      icon.classList.add('fa-eye');
    }
  });

  document.getElementById('toggleConfirmPassword').addEventListener('click', function() {
    var passwordInput = document.getElementById('confirmPassword');
    var icon = this;
    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      icon.classList.remove('fa-eye');
      icon.classList.add('fa-eye-slash');
    } else {
      passwordInput.type = 'password';
      icon.classList.remove('fa-eye-slash');
      icon.classList.add('fa-eye');
    }
  });
</script>

<style>
  .error-message {
    font-size: 0.875em;
    color: red;
    margin-top: 0.25em;
  }
  .position-relative {
    position: relative;
  }
  .position-absolute {
    position: absolute;
  }
  .form-group {
    margin-bottom: 1rem;
  }
  .input-container + .error-message {
    margin-top: 0.5rem;
  }
</style>

<section class="signin-page account">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div class="block text-center">
                    <a class="logo" href="index.html">
                        <img src="images/logo.png" alt="">
                    </a>
                    <h2 class="text-center">Create Your Account</h2>
                    {{#if success_msg}}
                        <div class="alert alert-success">{{success_msg}}</div>
                    {{/if}}
                    {{#if error_msg}}
                        <div class="alert alert-danger">{{error_msg}}</div>
                    {{/if}}
                    <form id="registrationForm" action="/auth/register" method="post"> <!-- Added id for the form -->
                        <div class="form-group">
                            <input type="text" class="form-control" name="firstname" placeholder="First Name" value="{{firstname}}" required>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" name="lastname" placeholder="Last Name" value="{{lastname}}" required>
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-control" name="email" placeholder="Email" value="{{email}}" required>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" name="mobile" placeholder="Mobile" value="{{mobile}}" required>
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" name="password" placeholder="Password" required>
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" name="password2" placeholder="Confirm Password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Register</button>
                    </form>
                    <p class="mt-20">Already have an account? <a href="/login">Login</a></p>
                    <div class="form-group">
                        <a href="/auth/google" class="btn btn-primary">Sign up with Google</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    document.getElementById('registrationForm').addEventListener('submit', function(e) {
        // Get form fields
        var firstname = document.querySelector('input[name="firstname"]').value.trim();
        var lastname = document.querySelector('input[name="lastname"]').value.trim();
        var email = document.querySelector('input[name="email"]').value.trim();
        var mobile = document.querySelector('input[name="mobile"]').value.trim();
        var password = document.querySelector('input[name="password"]').value.trim();
        var password2 = document.querySelector('input[name="password2"]').value.trim();

        // Validate fields
        if (!firstname || !lastname || !email || !mobile || !password || !password2) {
            alert('Please fill in all fields.');
            e.preventDefault(); // Prevent form submission
            return;
        }

        // Email validation
        var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
        if (!emailPattern.test(email)) {
            alert('Please enter a valid email address.');
            e.preventDefault();
            return;
        }

        // Mobile number validation (assuming a simple 10-digit format for example)
        var mobilePattern = /^\d{10}$/;
        if (!mobilePattern.test(mobile)) {
            alert('Please enter a valid mobile number (10 digits).');
            e.preventDefault();
            return;
        }

        // Password validation (minimum 8 characters, at least one letter and one number)
        var passwordPattern = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;
        if (!passwordPattern.test(password)) {
            alert('Password must be at least 8 characters long and include at least one letter and one number.');
            e.preventDefault();
            return;
        }

        // Confirm password match
        if (password !== password2) {
            alert('Passwords do not match.');
            e.preventDefault();
            return;
        }

        // Optional: Additional validation for other conditions can be added here
    });
</script>
